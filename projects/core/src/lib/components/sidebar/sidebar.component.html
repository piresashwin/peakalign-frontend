<div class="relative flex flex-col w-72 bg-neutral-1-200 h-screen border-r-neutral-1-500 border-r px-6 gap-8 pt-8">

    <button
        class="absolute -right-3 top-8 rounded-full w-7 h-7 border-[0.5px] border-neutral-1-600 bg-neutral-1-50 items-center justify-center flex">
        <img src="/assets/images/icons/arrow-left.svg" class="w-4 h-4">
    </button>

    <ng-content></ng-content>

    <img src="/assets/images/logo/logo.svg" class="h-8 w-auto flex self-start">

    <theme-button (click)="openNewSessionModal()" *ngIf="!isSessionAvailable" title="Create Session" [center]="true"
        [fullWidth]="true"></theme-button>

    <div class="flex flex-row">
        
    </div>

    <button *ngIf="isSessionAvailable" [cdkMenuTriggerFor]="teamMenu"
        class="flex flex-row h-12 rounded-xl bg-neutral-1-200 border border-neutral-1-600 items-center p-3  gap-2">

        <span class="flex w-10 h-10 rounded-full bg-secondary-50 items-center justify-center">
            <img src="/assets/images/icons/session-dot.svg" class="w-5 h-5">
        </span>

        <span class="flex flex-grow">
            {{ currentSession?.name }}
        </span>

        <span class="">
            <span class="flex w-4 h-4 items-center justify-center">
                <img src="/assets/images/icons/arrow-down.svg">
            </span>
        </span>

    </button>

    <ng-container *ngFor="let menu of menus">

        <div class="flex flex-col items-stretch gap-3">

            <h1 class="text-black">{{ menu.title }}</h1>

            <div class="flex flex-col items-stretch gap-0.5">

                <ng-container *ngFor="let item of menu.items">
                    <a routerLink="{{item.url}}" class="cursor-pointer flex flex-row p-1 items-center h-12 rounded-xl"
                        routerLinkActive="bg-secondary-50">
                        <span class="flex w-10 h-10 items-center justify-center">
                            <img src="/assets/images/icons/{{item.icon}}" class="w-5 h-5">
                        </span>
                        <span class="text-sm">{{item.title}}</span>
                    </a>
                </ng-container>



            </div>


        </div>

    </ng-container>




</div>

<ng-template #teamMenu>
    <div class="flex flex-col self-stretch w-full p-3 bg-neutral-1-200  border border-neutral-1-600 shadow-md overflow-y-auto max-h-28 rounded-xl gap-2 mt-2"
        cdkMenu>

        <button (click)="sessionChange(session)" *ngFor="let session of sessions"
            class="flex w-full flex-row gap-2 h-9 items-center"
            [ngClass]="{'bg-secondary-50 rounded-xl px-3' : selectedSessionKey == session.id}">
            <span class="flex w-10 h-10 rounded-full bg-secondary-50 items-center justify-center">
                <img src="/assets/images/icons/hierarchy.svg" class="w-5 h-5">
            </span>

            <span class="flex flex-grow">
                {{ session.name }}
            </span>

        </button>

    </div>
</ng-template>